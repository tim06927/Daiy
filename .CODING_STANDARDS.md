# Daiy - Python Code Standards

## Code Quality Guidelines

### Imports
- PEP 8: standard library → third party → local imports
- No unused imports
- One import per line (except from-imports with multiple items)
- Imports at module level, never inside functions

### Type Hints
- Use type hints on all functions: parameters and return types
- Use `Dict[str, Any]`, not bare `Dict`
- Use `Optional[X]` for nullable values
- Add `-> None` for side-effect functions

### Docstrings
- All public functions need docstrings (triple-quoted)
- Format: Summary line, blank line, detailed description
- Include Args, Returns, Raises sections for complex functions
- Use Google style or PEP 257 format

### Comments
- Comments explain WHY, not WHAT (code shows what)
- Use inline `#` for single-line explanations
- Avoid obvious comments: `x = 5  # set x to 5`
- Section separators: use regular comments, not ASCII art

### Error Handling
- No bare `except Exception:` - catch specific exceptions
- Log errors when appropriate
- Propagate meaningful errors, don't swallow

### Naming
- `snake_case` for functions and variables
- `UPPER_CASE` for constants
- Leading `_` for private functions
- Descriptive names: `extract_sku()` not `get_value()`

### Code Organization
- One responsibility per function
- Keep functions under 50 lines
- Extract repeated code to helper functions
- Group related functions together

### Configuration
- Use `config.py` files for settings
- Environment variables for secrets (API keys, etc.)
- No hardcoded paths or credentials
- Document all config options

## Project-Specific Standards

### Flask Apps
- Use blueprints for routes if >5 endpoints
- Type-hint route return values
- Document API request/response format
- Use config objects, not magic strings

### Scraping
- Always include politeness delays
- Respect robots.txt and terms of service
- User-Agent headers identify the scraper
- Log progress and errors

### LLM Integration
- Document prompt format and expectations
- Include error handling for API failures
- Type-hint response parsing functions
- Test with multiple response formats

### Data Processing
- Validate input data
- Document data schema (CSV columns, JSON structure)
- Handle missing/invalid values gracefully
- Type-hint DataFrame operations where possible
